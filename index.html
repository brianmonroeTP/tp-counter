<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Totes Promotes Work Streak Counter</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta property="og:title" content="Totes Promotes Work Streak Counter" />
  <meta property="og:description" 
  content="Let's see how long this can last..." />
  <meta property="og:url" content="https://brianmonroetp.github.io/tp-counter/" />
  <meta property="og:image" content="https://api.totallypromotional.com/Data/Media/37612a77-e007-4fdc-8bd5-888217dbb9b1Z-TP-SiteLogo-265x50px.png" />



  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">

  <style>
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(12px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-fade-in {
      animation: fadeInUp 0.5s ease-out both;
    }
  </style>
</head>

<body class="w-screen min-h-screen bg-slate-900 text-white font-[Inter] overflow-x-hidden">

  <main class="w-full min-h-screen flex flex-col items-center justify-center px-6 text-center">

    <!-- Logo Placeholder -->
    <div class="mb-10">
      <div class="w-86 h-40 bg-slate-100 rounded-xl flex items-center justify-center text-slate-300 uppercase tracking-widest text-lg px-6">
        <img src="https://api.totallypromotional.com/Data/Media/37612a77-e007-4fdc-8bd5-888217dbb9b1Z-TP-SiteLogo-265x50px.png" />
      </div>
    </div>

    <!-- Intro -->
    <h1 class="text-3xl md:text-4xl font-semibold text-slate-100 mb-6">
      It‚Äôs been
    </h1>

    <!-- Counter -->
      <div
        id="counter"
        class="font-black tabular-nums tracking-tight leading-none
              text-5xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl
              flex flex-col sm:flex-row gap-3 sm:gap-6 justify-center"
      >
        <div>
          <span id="days" class="inline-block w-[3ch] text-right">0</span> DAYS
        </div>
        <div>
          <span id="hours" class="inline-block w-[2ch] text-right">0</span> HOURS
        </div>
        <div>
          <span id="minutes" class="inline-block w-[2ch] text-right">0</span> MINUTES
        </div>
        <div>
          <span id="seconds" class="inline-block w-[2ch] text-right">0</span> SECONDS
        </div>
      </div>

    <!-- Subtext -->
    <p class="mt-4 text-xl md:text-2xl font-semibold text-slate-100 max-w-2xl">
      since a cleaning person has respectully resigned.
    </p>

    <!-- Milestones -->
    <div
      id="milestones"
      class="mt-8 flex flex-wrap justify-center gap-4 text-3xl"
    ></div>

    <!-- More confetti btn -->
    <button
      onclick="fireConfetti()"
      class="mt-6 px-6 py-3 rounded-xl bg-amber-500/20 border border-amber-400/40
            text-amber-300 font-semibold hover:bg-amber-500/30 transition"
    >
      üéâ MORE CONFETTI üéâ
    </button>



  </main>

  <!-- Tips Section -->
<section class="bg-slate-100 text-slate-900 py-20 px-6">
  <div class="max-w-4xl mx-auto text-center">

    <h2 class="text-3xl md:text-4xl font-extrabold mb-10 tracking-tight">
      Tips to Keep This Streak Going
    </h2>

    <ul class="space-y-6 text-lg md:text-xl text-left max-w-2xl mx-auto">
      <li class="flex gap-4 items-start">
        <span class="text-amber-500 text-2xl">‚úî</span>
        <span>No duke'en on the floors.</span>
      </li>

      <li class="flex gap-4 items-start">
        <span class="text-amber-500 text-2xl">‚úî</span>
        <span>No products stuck to walls.</span>
      </li>

      <li class="flex gap-4 items-start">
        <span class="text-amber-500 text-2xl">‚úî</span>
        <span>Be a decent human.</span>
      </li>
    </ul>
  </div>
</section>


    <canvas
      id="confetti-canvas"
      class="fixed inset-0 pointer-events-none z-50"
    ></canvas>

    <script>
      const LOAD_CONFETTI_KEY = "tp-confetti-fired";
            function fireConfettiOnceOnLoad() {
        if (!sessionStorage.getItem(LOAD_CONFETTI_KEY)) {
          fireConfetti();
          sessionStorage.setItem(LOAD_CONFETTI_KEY, "true");
        }
      }
      // SET START DATE HERE
      const startDate = new Date(2026, 0, 9, 7, 30, 0);
      const MILESTONE_KEY = "tp-week-milestones";

      const canvas = document.getElementById("confetti-canvas");
      const ctx = canvas.getContext("2d");

      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }

      window.addEventListener("resize", resizeCanvas);
      resizeCanvas();

      function fireConfetti() {
        const pieces = [];
        const colors = ["#facc15", "#fb923c", "#38bdf8", "#4ade80", "#f472b6"];

        for (let i = 0; i < 150; i++) {
          pieces.push({
            x: Math.random() * canvas.width,
            y: -20,
            size: Math.random() * 8 + 4,
            speedY: Math.random() * 4 + 3,
            speedX: (Math.random() - 0.5) * 6,
            color: colors[Math.floor(Math.random() * colors.length)],
            rotation: Math.random() * Math.PI
          });
        }

        function animate() {
          ctx.clearRect(0, 0, canvas.width, canvas.height);

          pieces.forEach((p, index) => {
            p.y += p.speedY;
            p.x += p.speedX;
            p.rotation += 0.05;

            ctx.save();
            ctx.translate(p.x, p.y);
            ctx.rotate(p.rotation);
            ctx.fillStyle = p.color;
            ctx.fillRect(-p.size / 2, -p.size / 2, p.size, p.size);
            ctx.restore();

            if (p.y > canvas.height) {
              pieces.splice(index, 1);
            }
          });

          if (pieces.length > 0) {
            requestAnimationFrame(animate);
          }
        }

        animate();
      }

      function renderStoredMilestones() {
        const milestonesEl = document.getElementById("milestones");
        milestonesEl.innerHTML = "";

        const storedWeeks = JSON.parse(
          localStorage.getItem(MILESTONE_KEY) || "[]"
        );

        storedWeeks.forEach((week) => {
          const trophy = document.createElement("div");
          trophy.className =
            "flex items-center gap-2 px-4 py-2 bg-amber-500/10 border border-amber-400/30 rounded-xl text-amber-400";
          trophy.innerHTML = `üèÜ <span class="text-xl font-semibold">Week ${week}</span>`;

          milestonesEl.appendChild(trophy);
        });
      }

      function updateCounter() {
        const now = new Date();
        let diffMs = now - startDate;

        if (diffMs < 0) diffMs = 0;

        const totalSeconds = Math.floor(diffMs / 1000);

        const days = Math.floor(totalSeconds / (60 * 60 * 24));
        const hours = Math.floor((totalSeconds % (60 * 60 * 24)) / (60 * 60));
        const minutes = Math.floor((totalSeconds % (60 * 60)) / 60);
        const seconds = totalSeconds % 60;

        document.getElementById("days").textContent = days;
        document.getElementById("hours").textContent = hours;
        document.getElementById("minutes").textContent = minutes;
        document.getElementById("seconds").textContent = seconds;

        updateMilestones(days);
      }

      function updateMilestones(days) {
        const weeksCompleted = Math.floor(days / 7);
        const milestonesEl = document.getElementById("milestones");

        const storedWeeks = JSON.parse(
          localStorage.getItem(MILESTONE_KEY) || "[]"
        );

        for (let week = 1; week <= weeksCompleted; week++) {
          if (!storedWeeks.includes(week)) {
            storedWeeks.push(week);

            const trophy = document.createElement("div");
            trophy.className =
              "flex items-center gap-2 px-4 py-2 bg-amber-500/10 border border-amber-400/30 rounded-xl text-amber-400 animate-fade-in";
            trophy.innerHTML = `üèÜ <span class="text-xl font-semibold">Week ${week}</span>`;

            milestonesEl.appendChild(trophy);

            // üéâ Fire confetti ONLY for new milestones
            fireConfetti();
          }
        }

        localStorage.setItem(MILESTONE_KEY, JSON.stringify(storedWeeks));
      }

      renderStoredMilestones();
      updateCounter();
      setInterval(updateCounter, 1000);
      fireConfettiOnceOnLoad();
      updateCounter();
      setInterval(updateCounter, 1000);
      renderStoredMilestones();
    </script>

</body>
</html>
